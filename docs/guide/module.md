模块开发
=======

模块指的是系统中的子系统，他可以是独立存在的，也可以依附于主模块存在，一般情况下，子模块都依附于主模块而存在。依据您的开发习惯，您可以根据系统的功能划分为多个子模块，每个子模块分配给不同的人员开发，最后将所有子模块组合成一个大的系统。

## 子模块开发
1. 具体的子模块开发请参考 Yii2 开发手册；
2. 在本系统中，除了 Yii2 开发手册中需要执行的操作之外，您还需要做以下的处理。
- 做一个 48 * 48 规则的 png 文件，并命名为 icon.png 放置在模块的根目录下；
- 在模块的根目录下创建一个 conf.json 文件，可参考内容如下：
```json
{
    "name": "模块的名称，小写英文字母，不能和平级模块同名",
    "author": "作者姓名",
    "version": "0.0.1",
    "description": "这里填写模块描叙内容",
    "url": "项目地址，可不填写",
    "menus": [
        {
            "label": "产品列表",
            "url": [
                "shop/products/index"
            ],
            "active": "moduleId=shop&&controllerId=products"
        },
        {
            "label": "订单列表",
            "url": [
                "shop/orders/index"
            ],
            "active": "moduleId=shop&&controllerId=orders"
        }
    ],
    "depends": []
}
```
3. 开发完毕后，在后台系统的`系统管理` > `扩展模块管理`的待安装模块中您可以看到您创建的模块，点击`安装`即可。安装完成后，您可以使用 `/admin/模块名/控制器/动作` 进行访问。

## 接口开发
如果您开发的模块需要对外提供 API，则您需要在 api 主模块下创建同名的子模块，并依据 Yii2 手册正常创建相应的接口代码即可。系统会帮您主动注册，您使用 `/api/模块名/控制器/动作` 进行访问即可。

## 注意事项
后期对 conf.json 文件有更新的话，您必须在`系统管理` > `扩展模块管理`找到您的模块，手动点击更新，您的相关设置才会更新到数据库中。